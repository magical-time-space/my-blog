<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://mpbug.gitee.io/views/Books/Front-end/JustVue2/extend/tansition-group.html"><meta property="og:site_name" content="魔法Bug"><meta property="og:title" content="transition-group"><meta property="og:description" content="transition-group 前一节我们介绍了 &lt;transiiton&gt; 组件的实现原理，它只能针对单一元素实现过渡效果。我们做前端开发经常会遇到列表的需求，我们对列表元素进行添加和删除，有时候也希望有过渡效果，Vue.js 提供了 &lt;transition-group&gt; 组件，很好地帮助我们实现了列表的过渡效果。那么接下来我们就来分析一下它的实现原理。 为了更直观，我们也是通过一个示例来说明： let vm = new Vue({ el: '#app', template: '&lt;div id="list-complete-demo" class="demo"&gt;' + '&lt;button v-on:click="add"&gt;Add&lt;/button&gt;' + '&lt;button v-on:click="remove"&gt;Remove&lt;/button&gt;' + '&lt;transition-group name="list-complete" tag="p"&gt;' + '&lt;span v-for="item in items" v-bind:key="item" class="list-complete-item"&gt;' + '{{ item }}' + '&lt;/span&gt;' + '&lt;/transition-group&gt;' + '&lt;/div&gt;', data: { items: [1, 2, 3, 4, 5, 6, 7, 8, 9], nextNum: 10 }, methods: { randomIndex: function () { return Math.floor(Math.random() * this.items.length) }, add: function () { this.items.splice(this.randomIndex(), 0, this.nextNum++) }, remove: function () { this.items.splice(this.randomIndex(), 1) } } })"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="魔法时空宝库"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"transition-group","image":[""],"dateModified":null,"author":[{"@type":"Person","name":"魔法时空宝库","url":"https://mpbug.gitee.io/player/"}]}</script><title>transition-group | 魔法Bug</title><meta name="description" content="transition-group 前一节我们介绍了 &lt;transiiton&gt; 组件的实现原理，它只能针对单一元素实现过渡效果。我们做前端开发经常会遇到列表的需求，我们对列表元素进行添加和删除，有时候也希望有过渡效果，Vue.js 提供了 &lt;transition-group&gt; 组件，很好地帮助我们实现了列表的过渡效果。那么接下来我们就来分析一下它的实现原理。 为了更直观，我们也是通过一个示例来说明： let vm = new Vue({ el: '#app', template: '&lt;div id="list-complete-demo" class="demo"&gt;' + '&lt;button v-on:click="add"&gt;Add&lt;/button&gt;' + '&lt;button v-on:click="remove"&gt;Remove&lt;/button&gt;' + '&lt;transition-group name="list-complete" tag="p"&gt;' + '&lt;span v-for="item in items" v-bind:key="item" class="list-complete-item"&gt;' + '{{ item }}' + '&lt;/span&gt;' + '&lt;/transition-group&gt;' + '&lt;/div&gt;', data: { items: [1, 2, 3, 4, 5, 6, 7, 8, 9], nextNum: 10 }, methods: { randomIndex: function () { return Math.floor(Math.random() * this.items.length) }, add: function () { this.items.splice(this.randomIndex(), 0, this.nextNum++) }, remove: function () { this.items.splice(this.randomIndex(), 1) } } })">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-345afa22.css" as="style"><link rel="stylesheet" href="/assets/style-345afa22.css">
    <link rel="modulepreload" href="/assets/app-36439b21.js"><link rel="modulepreload" href="/assets/framework-d8252107.js"><link rel="modulepreload" href="/assets/tansition-group.html-e27c4660.js"><link rel="modulepreload" href="/assets/tansition-group.html-b909da90.js"><link rel="prefetch" href="/assets/index.html-addc0ce4.js" as="script"><link rel="prefetch" href="/assets/intro.html-86d922dd.js" as="script"><link rel="prefetch" href="/assets/slides.html-7db34244.js" as="script"><link rel="prefetch" href="/assets/slidesOld.html-2f396fe5.js" as="script"><link rel="prefetch" href="/assets/index.html-872a68ad.js" as="script"><link rel="prefetch" href="/assets/mg.html-c0025bc1.js" as="script"><link rel="prefetch" href="/assets/mg.html-b3d5c19f.js" as="script"><link rel="prefetch" href="/assets/index.html-70a81eac.js" as="script"><link rel="prefetch" href="/assets/中华田园文化.html-851a46e4.js" as="script"><link rel="prefetch" href="/assets/NormalDay.html-97f6245e.js" as="script"><link rel="prefetch" href="/assets/index.html-c92940b6.js" as="script"><link rel="prefetch" href="/assets/争与不争.html-53c904c0.js" as="script"><link rel="prefetch" href="/assets/和气生财.html-6f61e47c.js" as="script"><link rel="prefetch" href="/assets/闷声发大财.html-38c1f0c2.js" as="script"><link rel="prefetch" href="/assets/index.html-1d8c7134.js" as="script"><link rel="prefetch" href="/assets/github.html-4ad21375.js" as="script"><link rel="prefetch" href="/assets/高速摄像头资源.html-6f3a8865.js" as="script"><link rel="prefetch" href="/assets/浏览器收藏夹-脚本.html-d8bd7369.js" as="script"><link rel="prefetch" href="/assets/course.html-c1d46c99.js" as="script"><link rel="prefetch" href="/assets/index.html-68f040f1.js" as="script"><link rel="prefetch" href="/assets/me.html-7d031bfa.js" as="script"><link rel="prefetch" href="/assets/index.html-41851142.js" as="script"><link rel="prefetch" href="/assets/index.html-bbbccc6d.js" as="script"><link rel="prefetch" href="/assets/基础知识：配色原理.html-40d335fe.js" as="script"><link rel="prefetch" href="/assets/背景知识：色学发展时间表.html-43f7121d.js" as="script"><link rel="prefetch" href="/assets/课程知识：颜色科学.html-9209370a.js" as="script"><link rel="prefetch" href="/assets/Setting.html-6c87dd6b.js" as="script"><link rel="prefetch" href="/assets/Snippets.html-9b428701.js" as="script"><link rel="prefetch" href="/assets/程序员常用英语词汇.html-1d3c642f.js" as="script"><link rel="prefetch" href="/assets/计算机编程及常用术语英语词汇大全.html-16007e53.js" as="script"><link rel="prefetch" href="/assets/1114路由器默认密码.html-c6861754.js" as="script"><link rel="prefetch" href="/assets/dism安装脚本.html-ba9c8eac.js" as="script"><link rel="prefetch" href="/assets/ChromeExtension.html-4c313a0a.js" as="script"><link rel="prefetch" href="/assets/Git with SSH.html-de681400.js" as="script"><link rel="prefetch" href="/assets/AI工具.html-56133034.js" as="script"><link rel="prefetch" href="/assets/时空葫芦工具箱.html-8ebb991e.js" as="script"><link rel="prefetch" href="/assets/音乐番茄果果果.html-ada18b1b.js" as="script"><link rel="prefetch" href="/assets/《周公解梦》.html-3d0c3038.js" as="script"><link rel="prefetch" href="/assets/《敦煌本梦书》.html-4a7d3c98.js" as="script"><link rel="prefetch" href="/assets/《断梦秘书》.html-eeaf23fb.js" as="script"><link rel="prefetch" href="/assets/《入药镜》.html-3d6b0ce3.js" as="script"><link rel="prefetch" href="/assets/index.html-a71af805.js" as="script"><link rel="prefetch" href="/assets/一般广告违禁词.html-fcdec837.js" as="script"><link rel="prefetch" href="/assets/中华人民共和国广告法.html-2de68e4a.js" as="script"><link rel="prefetch" href="/assets/互联网广告管理办法.html-ee9737f2.js" as="script"><link rel="prefetch" href="/assets/index.html-c2cf9b1a.js" as="script"><link rel="prefetch" href="/assets/中华人民共和国著作权法（2020）.html-69cfbbb0.js" as="script"><link rel="prefetch" href="/assets/中国版权保护中心著作权自愿登记收费标准.html-90de4638.js" as="script"><link rel="prefetch" href="/assets/index.html-eeb4af03.js" as="script"><link rel="prefetch" href="/assets/disrupt.html-d7247a4d.js" as="script"><link rel="prefetch" href="/assets/lane.html-cede7741.js" as="script"><link rel="prefetch" href="/assets/prepare.html-3546f72b.js" as="script"><link rel="prefetch" href="/assets/scheduler.html-adbd7c59.js" as="script"><link rel="prefetch" href="/assets/multi.html-2e47714e.js" as="script"><link rel="prefetch" href="/assets/one.html-866a3d7b.js" as="script"><link rel="prefetch" href="/assets/prepare.html-c062468f.js" as="script"><link rel="prefetch" href="/assets/create.html-9603f579.js" as="script"><link rel="prefetch" href="/assets/prepare.html-a14a2769.js" as="script"><link rel="prefetch" href="/assets/structure.html-5811dc49.js" as="script"><link rel="prefetch" href="/assets/useeffect.html-fbeb16cf.js" as="script"><link rel="prefetch" href="/assets/usememo.html-b668d622.js" as="script"><link rel="prefetch" href="/assets/useref.html-e532600b.js" as="script"><link rel="prefetch" href="/assets/usestate.html-43316131.js" as="script"><link rel="prefetch" href="/assets/file.html-5ba73d91.js" as="script"><link rel="prefetch" href="/assets/idea.html-5ac4f97d.js" as="script"><link rel="prefetch" href="/assets/jsx.html-3d928293.js" as="script"><link rel="prefetch" href="/assets/newConstructure.html-cceabde0.js" as="script"><link rel="prefetch" href="/assets/oldConstructure.html-6fa3115f.js" as="script"><link rel="prefetch" href="/assets/source.html-c019a563.js" as="script"><link rel="prefetch" href="/assets/summary.html-0a6c8100.js" as="script"><link rel="prefetch" href="/assets/beginWork.html-45bc5f39.js" as="script"><link rel="prefetch" href="/assets/completeWork.html-91fecc21.js" as="script"><link rel="prefetch" href="/assets/doubleBuffer.html-b0935f8f.js" as="script"><link rel="prefetch" href="/assets/fiber-mental.html-1bc7e55a.js" as="script"><link rel="prefetch" href="/assets/fiber.html-45d5764f.js" as="script"><link rel="prefetch" href="/assets/reconciler.html-b2924ace.js" as="script"><link rel="prefetch" href="/assets/mental.html-a4853a34.js" as="script"><link rel="prefetch" href="/assets/prepare.html-95fa0e6c.js" as="script"><link rel="prefetch" href="/assets/priority.html-bb8f6ee0.js" as="script"><link rel="prefetch" href="/assets/reactdom.html-73a96dc8.js" as="script"><link rel="prefetch" href="/assets/setstate.html-eb0b7436.js" as="script"><link rel="prefetch" href="/assets/update.html-1f2f08e3.js" as="script"><link rel="prefetch" href="/assets/beforeMutation.html-16341311.js" as="script"><link rel="prefetch" href="/assets/layout.html-04309b44.js" as="script"><link rel="prefetch" href="/assets/mutation.html-5dabbbb5.js" as="script"><link rel="prefetch" href="/assets/prepare.html-3211d06c.js" as="script"><link rel="prefetch" href="/assets/codegen.html-15e2ddec.js" as="script"><link rel="prefetch" href="/assets/entrance.html-83fee51d.js" as="script"><link rel="prefetch" href="/assets/index.html-d7856c62.js" as="script"><link rel="prefetch" href="/assets/optimize.html-de2eb9b5.js" as="script"><link rel="prefetch" href="/assets/parse.html-6acdbb35.js" as="script"><link rel="prefetch" href="/assets/async-component.html-69322b5c.js" as="script"><link rel="prefetch" href="/assets/component-register.html-ed46fd4a.js" as="script"><link rel="prefetch" href="/assets/create-component.html-f5559572.js" as="script"><link rel="prefetch" href="/assets/index.html-7b897ecc.js" as="script"><link rel="prefetch" href="/assets/lifecycle.html-2cf05d1b.js" as="script"><link rel="prefetch" href="/assets/merge-option.html-94ea7cc9.js" as="script"><link rel="prefetch" href="/assets/patch.html-4574b1c4.js" as="script"><link rel="prefetch" href="/assets/create-element.html-bd5a9968.js" as="script"><link rel="prefetch" href="/assets/index.html-ecf57dc4.js" as="script"><link rel="prefetch" href="/assets/mounted.html-c376f823.js" as="script"><link rel="prefetch" href="/assets/new-vue.html-176dd059.js" as="script"><link rel="prefetch" href="/assets/render.html-2450be2c.js" as="script"><link rel="prefetch" href="/assets/update.html-bf28ba9f.js" as="script"><link rel="prefetch" href="/assets/virtual-dom.html-3447b9e3.js" as="script"><link rel="prefetch" href="/assets/event.html-ccd24b90.js" as="script"><link rel="prefetch" href="/assets/index.html-61eb365b.js" as="script"><link rel="prefetch" href="/assets/keep-alive.html-9f4ec5d4.js" as="script"><link rel="prefetch" href="/assets/slot.html-a0e481b9.js" as="script"><link rel="prefetch" href="/assets/tansition.html-51c5a387.js" as="script"><link rel="prefetch" href="/assets/v-model.html-b24e8e34.js" as="script"><link rel="prefetch" href="/assets/build.html-3c50fd31.js" as="script"><link rel="prefetch" href="/assets/directory.html-67f49f0e.js" as="script"><link rel="prefetch" href="/assets/entrance.html-be82b143.js" as="script"><link rel="prefetch" href="/assets/flow.html-b089c19c.js" as="script"><link rel="prefetch" href="/assets/index.html-482f121e.js" as="script"><link rel="prefetch" href="/assets/component-update.html-d00a8089.js" as="script"><link rel="prefetch" href="/assets/computed-watcher.html-43eed0d1.js" as="script"><link rel="prefetch" href="/assets/getters.html-95a35379.js" as="script"><link rel="prefetch" href="/assets/index.html-1184c68a.js" as="script"><link rel="prefetch" href="/assets/next-tick.html-4e0ed553.js" as="script"><link rel="prefetch" href="/assets/props.html-7bc69771.js" as="script"><link rel="prefetch" href="/assets/questions.html-bd6d9094.js" as="script"><link rel="prefetch" href="/assets/reactive-object.html-97ed8726.js" as="script"><link rel="prefetch" href="/assets/setters.html-c5d76f6b.js" as="script"><link rel="prefetch" href="/assets/summary.html-62653e09.js" as="script"><link rel="prefetch" href="/assets/index.html-410922b4.js" as="script"><link rel="prefetch" href="/assets/install.html-4e71ca65.js" as="script"><link rel="prefetch" href="/assets/matcher.html-7b380ac8.js" as="script"><link rel="prefetch" href="/assets/router.html-94efd1ad.js" as="script"><link rel="prefetch" href="/assets/transition-to.html-cb838d9a.js" as="script"><link rel="prefetch" href="/assets/api.html-bd6166a0.js" as="script"><link rel="prefetch" href="/assets/index.html-f6e88c60.js" as="script"><link rel="prefetch" href="/assets/init.html-7454a41e.js" as="script"><link rel="prefetch" href="/assets/plugin.html-f7f4e411.js" as="script"><link rel="prefetch" href="/assets/ast.html-378b379f.js" as="script"><link rel="prefetch" href="/assets/binder.html-5802fab7.js" as="script"><link rel="prefetch" href="/assets/checker.html-0664c439.js" as="script"><link rel="prefetch" href="/assets/emitter.html-b42b0689.js" as="script"><link rel="prefetch" href="/assets/overview.html-2b6f5ec3.js" as="script"><link rel="prefetch" href="/assets/parser.html-45b8186f.js" as="script"><link rel="prefetch" href="/assets/program.html-9d19302c.js" as="script"><link rel="prefetch" href="/assets/scanner.html-192076ab.js" as="script"><link rel="prefetch" href="/assets/common.html-a8627d3a.js" as="script"><link rel="prefetch" href="/assets/interpreting.html-d828600b.js" as="script"><link rel="prefetch" href="/assets/class.html-e99c3769.js" as="script"><link rel="prefetch" href="/assets/commandline-behavior.html-9ea13d60.js" as="script"><link rel="prefetch" href="/assets/comments.html-e64f20fd.js" as="script"><link rel="prefetch" href="/assets/common-bug-not-bugs.html-caa8a65f.js" as="script"><link rel="prefetch" href="/assets/common-feature-request.html-f7dc98df.js" as="script"><link rel="prefetch" href="/assets/decorators.html-8fb9baed.js" as="script"><link rel="prefetch" href="/assets/enums.html-af9ad7cd.js" as="script"><link rel="prefetch" href="/assets/function.html-2d62c8e4.js" as="script"><link rel="prefetch" href="/assets/generics.html-cc0b0e0a.js" as="script"><link rel="prefetch" href="/assets/glossary-and-terms.html-f6a931bf.js" as="script"><link rel="prefetch" href="/assets/jsx-and-react.html-89bb9d8a.js" as="script"><link rel="prefetch" href="/assets/modules.html-5c1cf89e.js" as="script"><link rel="prefetch" href="/assets/thing-that-dont-work.html-37ea0cba.js" as="script"><link rel="prefetch" href="/assets/tsconfig-behavior.html-525b9c3e.js" as="script"><link rel="prefetch" href="/assets/type-guards.html-a6ed0548.js" as="script"><link rel="prefetch" href="/assets/type-system-behavior.html-97755d6f.js" as="script"><link rel="prefetch" href="/assets/nonReactJSX.html-cfefe2a5.js" as="script"><link rel="prefetch" href="/assets/reactJSX.html-1cfd37f7.js" as="script"><link rel="prefetch" href="/assets/support.html-c282d4fb.js" as="script"><link rel="prefetch" href="/assets/typescript-3.7.html-316db639.js" as="script"><link rel="prefetch" href="/assets/typescript-3.8.html-2b46055c.js" as="script"><link rel="prefetch" href="/assets/typescript-3.9.html-bec3bc12.js" as="script"><link rel="prefetch" href="/assets/compilationContext.html-dc1ef112.js" as="script"><link rel="prefetch" href="/assets/declarationspaces.html-afe66779.js" as="script"><link rel="prefetch" href="/assets/dynamicImportExpressions.html-c09ef21a.js" as="script"><link rel="prefetch" href="/assets/modules.html-f5fc9af5.js" as="script"><link rel="prefetch" href="/assets/namespaces.html-65ad7872.js" as="script"><link rel="prefetch" href="/assets/avoidExportDefault.html-159c85c1.js" as="script"><link rel="prefetch" href="/assets/barrel.html-2f7c72f6.js" as="script"><link rel="prefetch" href="/assets/bind.html-10be9ab1.js" as="script"><link rel="prefetch" href="/assets/buildToggles.html-43c46f2c.js" as="script"><link rel="prefetch" href="/assets/classAreUseful.html-858036fb.js" as="script"><link rel="prefetch" href="/assets/covarianceAndContravariance.html-b2049264.js" as="script"><link rel="prefetch" href="/assets/createArrays.html-f59314a1.js" as="script"><link rel="prefetch" href="/assets/curry.html-e4e6c844.js" as="script"><link rel="prefetch" href="/assets/functionParameters.html-4d3578a3.js" as="script"><link rel="prefetch" href="/assets/infer.html-4dc5d9dc.js" as="script"><link rel="prefetch" href="/assets/lazyObjectLiteralInitialization.html-9c16444a.js" as="script"><link rel="prefetch" href="/assets/limitPropertySetters.html-94133da7.js" as="script"><link rel="prefetch" href="/assets/metadata.html-3e371450.js" as="script"><link rel="prefetch" href="/assets/nominalTyping.html-dca5c8e5.js" as="script"><link rel="prefetch" href="/assets/outFileCaution.html-571cccaa.js" as="script"><link rel="prefetch" href="/assets/singletonPatern.html-6b137eec.js" as="script"><link rel="prefetch" href="/assets/statefulFunctions.html-ef94f425.js" as="script"><link rel="prefetch" href="/assets/staticConstructors.html-5e683034.js" as="script"><link rel="prefetch" href="/assets/stringBasedEmuns.html-c0557a31.js" as="script"><link rel="prefetch" href="/assets/truthy.html-6f0ff5e4.js" as="script"><link rel="prefetch" href="/assets/typeInstantiation.html-9f6bfd31.js" as="script"><link rel="prefetch" href="/assets/typesafeEventEmitter.html-ea81348a.js" as="script"><link rel="prefetch" href="/assets/ambient.html-bff6b50b.js" as="script"><link rel="prefetch" href="/assets/callable.html-e8ee0ea6.js" as="script"><link rel="prefetch" href="/assets/discrominatedUnion.html-2b43e7e7.js" as="script"><link rel="prefetch" href="/assets/enums.html-51aa068f.js" as="script"><link rel="prefetch" href="/assets/exceptionsHanding.html-21483fcb.js" as="script"><link rel="prefetch" href="/assets/freshness.html-dee51d40.js" as="script"><link rel="prefetch" href="/assets/functions.html-62641f59.js" as="script"><link rel="prefetch" href="/assets/generices.html-4d2ac27d.js" as="script"><link rel="prefetch" href="/assets/indexSignatures.html-43769f30.js" as="script"><link rel="prefetch" href="/assets/interfaces.html-10ff7e3b.js" as="script"><link rel="prefetch" href="/assets/lib.html-f244b2ca.js" as="script"><link rel="prefetch" href="/assets/literals.html-77a87e33.js" as="script"><link rel="prefetch" href="/assets/migrating.html-5f17a57d.js" as="script"><link rel="prefetch" href="/assets/mixins.html-2156d664.js" as="script"><link rel="prefetch" href="/assets/movingTypes.html-6777fb84.js" as="script"><link rel="prefetch" href="/assets/neverType.html-faf1f818.js" as="script"><link rel="prefetch" href="/assets/overview.html-4a5559c1.js" as="script"><link rel="prefetch" href="/assets/readonly.html-e1b8e5c9.js" as="script"><link rel="prefetch" href="/assets/thisType.html-9e8d8300.js" as="script"><link rel="prefetch" href="/assets/typeAssertion.html-098fc501.js" as="script"><link rel="prefetch" href="/assets/typeCompatibility.html-193f6c5d.js" as="script"><link rel="prefetch" href="/assets/typeGuard.html-0d21e5c7.js" as="script"><link rel="prefetch" href="/assets/typeInference.html-91ca5bf5.js" as="script"><link rel="prefetch" href="/assets/types.html-b38601de.js" as="script"><link rel="prefetch" href="/assets/CIE 1931 XYZ色彩空间详解.html-b79ea964.js" as="script"><link rel="prefetch" href="/assets/CIE 色度出版物（中英文）2018.html-268c6dc4.js" as="script"><link rel="prefetch" href="/assets/CIE.1931.COLOUR-MATCHING.FUNCTIONS.2.DEGREE.OBSERVE.html-f008f3de.js" as="script"><link rel="prefetch" href="/assets/CIE170-1(CIE2006a)颜色匹配函数计算模型.html-759c7276.js" as="script"><link rel="prefetch" href="/assets/根据功率频谱准确绘制 LED 颜色 - 文章资源.html-43572021.js" as="script"><link rel="prefetch" href="/assets/工具：函数图像工具.html-fc8045f6.js" as="script"><link rel="prefetch" href="/assets/案例大全.html-07b0a2a6.js" as="script"><link rel="prefetch" href="/assets/图标：vuepress-temp-hope.html-5e521365.js" as="script"><link rel="prefetch" href="/assets/课程介绍.html-65607166.js" as="script"><link rel="prefetch" href="/assets/html-css.html-d667f76a.js" as="script"><link rel="prefetch" href="/assets/javascript.html-6c536b3e.js" as="script"><link rel="prefetch" href="/assets/password.html-b5a70493.js" as="script"><link rel="prefetch" href="/assets/Base64.html-80d4029b.js" as="script"><link rel="prefetch" href="/assets/Color.html-9cb5306b.js" as="script"><link rel="prefetch" href="/assets/UUID.html-7727e2cf.js" as="script"><link rel="prefetch" href="/assets/audioAnalyser.html-7ae86e26.js" as="script"><link rel="prefetch" href="/assets/deep.clone.html-73bd5813.js" as="script"><link rel="prefetch" href="/assets/download.html-118f0090.js" as="script"><link rel="prefetch" href="/assets/format.html-bce01f07.js" as="script"><link rel="prefetch" href="/assets/iframe.html-e5f8b8c9.js" as="script"><link rel="prefetch" href="/assets/loadjs.html-be37afc9.js" as="script"><link rel="prefetch" href="/assets/parseToJson.html-06ab6bb4.js" as="script"><link rel="prefetch" href="/assets/getComputedStyle.html-1205c1d8.js" as="script"><link rel="prefetch" href="/assets/localeCompare.html-8552ed16.js" as="script"><link rel="prefetch" href="/assets/图像：2° coordinates from 2°  XYZ CMFs.html-6c3f97f0.js" as="script"><link rel="prefetch" href="/assets/图像：2°.CIE.1931.RGB系统光谱三刺激值曲线.html-72df77aa.js" as="script"><link rel="prefetch" href="/assets/图像：2°.CIE.1931.XYZ系统光谱三刺激值曲线.html-8eaa0a92.js" as="script"><link rel="prefetch" href="/assets/数据：2° 视场大小的视锥光能基础响应.html-f259b64c.js" as="script"><link rel="prefetch" href="/assets/数据：2° 视场大小的视锥化学能基础响应.html-214f8c7a.js" as="script"><link rel="prefetch" href="/assets/数据：2°.CIE.1931.XYZ系统光谱三刺激值.html-be18b05c.js" as="script"><link rel="prefetch" href="/assets/L1.什么是操作系统.html-3f27e50d.js" as="script"><link rel="prefetch" href="/assets/404.html-81de84fb.js" as="script"><link rel="prefetch" href="/assets/index.html-df04ee16.js" as="script"><link rel="prefetch" href="/assets/index.html-a2d9646c.js" as="script"><link rel="prefetch" href="/assets/index.html-2dd4e9a1.js" as="script"><link rel="prefetch" href="/assets/index.html-55868e76.js" as="script"><link rel="prefetch" href="/assets/index.html-11fda04a.js" as="script"><link rel="prefetch" href="/assets/index.html-b7ae1dda.js" as="script"><link rel="prefetch" href="/assets/index.html-adeaf5a0.js" as="script"><link rel="prefetch" href="/assets/index.html-85833432.js" as="script"><link rel="prefetch" href="/assets/index.html-954f0c3f.js" as="script"><link rel="prefetch" href="/assets/index.html-adbb2503.js" as="script"><link rel="prefetch" href="/assets/index.html-49797614.js" as="script"><link rel="prefetch" href="/assets/index.html-ca88f71e.js" as="script"><link rel="prefetch" href="/assets/index.html-a2c37c05.js" as="script"><link rel="prefetch" href="/assets/index.html-6ae31aff.js" as="script"><link rel="prefetch" href="/assets/index.html-3f512a29.js" as="script"><link rel="prefetch" href="/assets/index.html-7adacce5.js" as="script"><link rel="prefetch" href="/assets/index.html-73d95ed2.js" as="script"><link rel="prefetch" href="/assets/index.html-5817c93b.js" as="script"><link rel="prefetch" href="/assets/index.html-bb6daf91.js" as="script"><link rel="prefetch" href="/assets/index.html-2aef8cab.js" as="script"><link rel="prefetch" href="/assets/index.html-e918fb82.js" as="script"><link rel="prefetch" href="/assets/index.html-b3e4aa37.js" as="script"><link rel="prefetch" href="/assets/index.html-5d09d26d.js" as="script"><link rel="prefetch" href="/assets/index.html-065cf38d.js" as="script"><link rel="prefetch" href="/assets/index.html-a92f9841.js" as="script"><link rel="prefetch" href="/assets/index.html-68eca9e0.js" as="script"><link rel="prefetch" href="/assets/index.html-43bec9dc.js" as="script"><link rel="prefetch" href="/assets/index.html-bb9a5a0c.js" as="script"><link rel="prefetch" href="/assets/index.html-4dfa994a.js" as="script"><link rel="prefetch" href="/assets/index.html-6407f86c.js" as="script"><link rel="prefetch" href="/assets/index.html-82a0cf13.js" as="script"><link rel="prefetch" href="/assets/index.html-4e4aecd2.js" as="script"><link rel="prefetch" href="/assets/index.html-e7ea063e.js" as="script"><link rel="prefetch" href="/assets/index.html-a55ae107.js" as="script"><link rel="prefetch" href="/assets/index.html-6031e54c.js" as="script"><link rel="prefetch" href="/assets/index.html-130ce4bf.js" as="script"><link rel="prefetch" href="/assets/index.html-34b56a58.js" as="script"><link rel="prefetch" href="/assets/index.html-267d5a42.js" as="script"><link rel="prefetch" href="/assets/index.html-cac08cfd.js" as="script"><link rel="prefetch" href="/assets/index.html-ed6c5516.js" as="script"><link rel="prefetch" href="/assets/index.html-d5b84911.js" as="script"><link rel="prefetch" href="/assets/index.html-c6efa200.js" as="script"><link rel="prefetch" href="/assets/index.html-d0031563.js" as="script"><link rel="prefetch" href="/assets/index.html-d4f523f2.js" as="script"><link rel="prefetch" href="/assets/index.html-a908d03b.js" as="script"><link rel="prefetch" href="/assets/index.html-48aa1e73.js" as="script"><link rel="prefetch" href="/assets/index.html-1bb01f7e.js" as="script"><link rel="prefetch" href="/assets/index.html-7ca08b60.js" as="script"><link rel="prefetch" href="/assets/index.html-d22d293d.js" as="script"><link rel="prefetch" href="/assets/index.html-93b99ca3.js" as="script"><link rel="prefetch" href="/assets/index.html-133b554e.js" as="script"><link rel="prefetch" href="/assets/index.html-03d0d93a.js" as="script"><link rel="prefetch" href="/assets/index.html-5ffa48a2.js" as="script"><link rel="prefetch" href="/assets/index.html-42432e3b.js" as="script"><link rel="prefetch" href="/assets/index.html-08055731.js" as="script"><link rel="prefetch" href="/assets/index.html-d35e4e45.js" as="script"><link rel="prefetch" href="/assets/index.html-1deae25f.js" as="script"><link rel="prefetch" href="/assets/index.html-69b65684.js" as="script"><link rel="prefetch" href="/assets/index.html-c8a5c4f7.js" as="script"><link rel="prefetch" href="/assets/index.html-d91558f5.js" as="script"><link rel="prefetch" href="/assets/index.html-a238749b.js" as="script"><link rel="prefetch" href="/assets/index.html-339e0ba8.js" as="script"><link rel="prefetch" href="/assets/index.html-e619fb96.js" as="script"><link rel="prefetch" href="/assets/index.html-ada432f6.js" as="script"><link rel="prefetch" href="/assets/index.html-ed832418.js" as="script"><link rel="prefetch" href="/assets/index.html-dbb371c6.js" as="script"><link rel="prefetch" href="/assets/index.html-9e13a72d.js" as="script"><link rel="prefetch" href="/assets/index.html-739d2392.js" as="script"><link rel="prefetch" href="/assets/index.html-d12a8922.js" as="script"><link rel="prefetch" href="/assets/index.html-691b705d.js" as="script"><link rel="prefetch" href="/assets/index.html-eb05b6d4.js" as="script"><link rel="prefetch" href="/assets/index.html-81123c1b.js" as="script"><link rel="prefetch" href="/assets/index.html-c997cc01.js" as="script"><link rel="prefetch" href="/assets/index.html-f4b73d65.js" as="script"><link rel="prefetch" href="/assets/index.html-8d232b42.js" as="script"><link rel="prefetch" href="/assets/index.html-075fc650.js" as="script"><link rel="prefetch" href="/assets/index.html-40948553.js" as="script"><link rel="prefetch" href="/assets/intro.html-a1901505.js" as="script"><link rel="prefetch" href="/assets/slides.html-59032a65.js" as="script"><link rel="prefetch" href="/assets/slidesOld.html-86de0da8.js" as="script"><link rel="prefetch" href="/assets/index.html-7c6f1102.js" as="script"><link rel="prefetch" href="/assets/mg.html-abbc8572.js" as="script"><link rel="prefetch" href="/assets/mg.html-29434a6f.js" as="script"><link rel="prefetch" href="/assets/index.html-48031c85.js" as="script"><link rel="prefetch" href="/assets/中华田园文化.html-068e28e7.js" as="script"><link rel="prefetch" href="/assets/NormalDay.html-b4e009e3.js" as="script"><link rel="prefetch" href="/assets/index.html-6ec54a2c.js" as="script"><link rel="prefetch" href="/assets/争与不争.html-190639e9.js" as="script"><link rel="prefetch" href="/assets/和气生财.html-bcbef8e6.js" as="script"><link rel="prefetch" href="/assets/闷声发大财.html-4030dc41.js" as="script"><link rel="prefetch" href="/assets/index.html-51f60a44.js" as="script"><link rel="prefetch" href="/assets/github.html-0ebd6333.js" as="script"><link rel="prefetch" href="/assets/高速摄像头资源.html-82f9107f.js" as="script"><link rel="prefetch" href="/assets/浏览器收藏夹-脚本.html-3980a57a.js" as="script"><link rel="prefetch" href="/assets/course.html-1fdd61cb.js" as="script"><link rel="prefetch" href="/assets/index.html-49be9c56.js" as="script"><link rel="prefetch" href="/assets/me.html-3b8e6ef6.js" as="script"><link rel="prefetch" href="/assets/index.html-4648d288.js" as="script"><link rel="prefetch" href="/assets/index.html-9829bc5b.js" as="script"><link rel="prefetch" href="/assets/基础知识：配色原理.html-0f148c78.js" as="script"><link rel="prefetch" href="/assets/背景知识：色学发展时间表.html-c24dd242.js" as="script"><link rel="prefetch" href="/assets/课程知识：颜色科学.html-5dc109af.js" as="script"><link rel="prefetch" href="/assets/Setting.html-48fc6cb9.js" as="script"><link rel="prefetch" href="/assets/Snippets.html-5b7e4891.js" as="script"><link rel="prefetch" href="/assets/程序员常用英语词汇.html-d7e9ed5c.js" as="script"><link rel="prefetch" href="/assets/计算机编程及常用术语英语词汇大全.html-bccc1fa4.js" as="script"><link rel="prefetch" href="/assets/1114路由器默认密码.html-1938cb9b.js" as="script"><link rel="prefetch" href="/assets/dism安装脚本.html-b0f71306.js" as="script"><link rel="prefetch" href="/assets/ChromeExtension.html-2f083315.js" as="script"><link rel="prefetch" href="/assets/Git with SSH.html-84fd6acf.js" as="script"><link rel="prefetch" href="/assets/AI工具.html-7accba64.js" as="script"><link rel="prefetch" href="/assets/时空葫芦工具箱.html-3b227705.js" as="script"><link rel="prefetch" href="/assets/音乐番茄果果果.html-6148e2fa.js" as="script"><link rel="prefetch" href="/assets/《周公解梦》.html-366651bd.js" as="script"><link rel="prefetch" href="/assets/《敦煌本梦书》.html-95697286.js" as="script"><link rel="prefetch" href="/assets/《断梦秘书》.html-68548940.js" as="script"><link rel="prefetch" href="/assets/《入药镜》.html-287888b5.js" as="script"><link rel="prefetch" href="/assets/index.html-94eee020.js" as="script"><link rel="prefetch" href="/assets/一般广告违禁词.html-6407d8f0.js" as="script"><link rel="prefetch" href="/assets/中华人民共和国广告法.html-2188a79d.js" as="script"><link rel="prefetch" href="/assets/互联网广告管理办法.html-aa5dd057.js" as="script"><link rel="prefetch" href="/assets/index.html-34c5d9e1.js" as="script"><link rel="prefetch" href="/assets/中华人民共和国著作权法（2020）.html-cbd07301.js" as="script"><link rel="prefetch" href="/assets/中国版权保护中心著作权自愿登记收费标准.html-63d53c00.js" as="script"><link rel="prefetch" href="/assets/index.html-b1ae3946.js" as="script"><link rel="prefetch" href="/assets/disrupt.html-725f8cf2.js" as="script"><link rel="prefetch" href="/assets/lane.html-aa1da54d.js" as="script"><link rel="prefetch" href="/assets/prepare.html-3e5e488a.js" as="script"><link rel="prefetch" href="/assets/scheduler.html-fb89f887.js" as="script"><link rel="prefetch" href="/assets/multi.html-794d9157.js" as="script"><link rel="prefetch" href="/assets/one.html-f7b4f18f.js" as="script"><link rel="prefetch" href="/assets/prepare.html-ab2f8c56.js" as="script"><link rel="prefetch" href="/assets/create.html-5364654e.js" as="script"><link rel="prefetch" href="/assets/prepare.html-4aab6d6a.js" as="script"><link rel="prefetch" href="/assets/structure.html-7494e754.js" as="script"><link rel="prefetch" href="/assets/useeffect.html-b60a9df8.js" as="script"><link rel="prefetch" href="/assets/usememo.html-80e7cbbc.js" as="script"><link rel="prefetch" href="/assets/useref.html-2f0dd70a.js" as="script"><link rel="prefetch" href="/assets/usestate.html-f771e7b0.js" as="script"><link rel="prefetch" href="/assets/file.html-effa6e1c.js" as="script"><link rel="prefetch" href="/assets/idea.html-c73dc687.js" as="script"><link rel="prefetch" href="/assets/jsx.html-8695d734.js" as="script"><link rel="prefetch" href="/assets/newConstructure.html-f4b971d2.js" as="script"><link rel="prefetch" href="/assets/oldConstructure.html-b8c4efee.js" as="script"><link rel="prefetch" href="/assets/source.html-d456bd09.js" as="script"><link rel="prefetch" href="/assets/summary.html-35720017.js" as="script"><link rel="prefetch" href="/assets/beginWork.html-10e0102d.js" as="script"><link rel="prefetch" href="/assets/completeWork.html-f2290b4b.js" as="script"><link rel="prefetch" href="/assets/doubleBuffer.html-f6a46a2b.js" as="script"><link rel="prefetch" href="/assets/fiber-mental.html-3873a5a7.js" as="script"><link rel="prefetch" href="/assets/fiber.html-d844e87c.js" as="script"><link rel="prefetch" href="/assets/reconciler.html-1a186ab8.js" as="script"><link rel="prefetch" href="/assets/mental.html-4d5723df.js" as="script"><link rel="prefetch" href="/assets/prepare.html-dc12b884.js" as="script"><link rel="prefetch" href="/assets/priority.html-8d840c0d.js" as="script"><link rel="prefetch" href="/assets/reactdom.html-cc10fbbe.js" as="script"><link rel="prefetch" href="/assets/setstate.html-3dadcc0b.js" as="script"><link rel="prefetch" href="/assets/update.html-e4dedfc4.js" as="script"><link rel="prefetch" href="/assets/beforeMutation.html-10c0b563.js" as="script"><link rel="prefetch" href="/assets/layout.html-3683c363.js" as="script"><link rel="prefetch" href="/assets/mutation.html-2ec385e7.js" as="script"><link rel="prefetch" href="/assets/prepare.html-655ba0be.js" as="script"><link rel="prefetch" href="/assets/codegen.html-2c62147c.js" as="script"><link rel="prefetch" href="/assets/entrance.html-663b3b41.js" as="script"><link rel="prefetch" href="/assets/index.html-3fa09136.js" as="script"><link rel="prefetch" href="/assets/optimize.html-3a323512.js" as="script"><link rel="prefetch" href="/assets/parse.html-00dff523.js" as="script"><link rel="prefetch" href="/assets/async-component.html-0fe922a1.js" as="script"><link rel="prefetch" href="/assets/component-register.html-e943ddd9.js" as="script"><link rel="prefetch" href="/assets/create-component.html-ebaec33d.js" as="script"><link rel="prefetch" href="/assets/index.html-4fcb4041.js" as="script"><link rel="prefetch" href="/assets/lifecycle.html-3a516eef.js" as="script"><link rel="prefetch" href="/assets/merge-option.html-f1ea4abe.js" as="script"><link rel="prefetch" href="/assets/patch.html-50a8a837.js" as="script"><link rel="prefetch" href="/assets/create-element.html-13d715b0.js" as="script"><link rel="prefetch" href="/assets/index.html-3090092a.js" as="script"><link rel="prefetch" href="/assets/mounted.html-4c86d08b.js" as="script"><link rel="prefetch" href="/assets/new-vue.html-0608b504.js" as="script"><link rel="prefetch" href="/assets/render.html-c60c947c.js" as="script"><link rel="prefetch" href="/assets/update.html-549101b2.js" as="script"><link rel="prefetch" href="/assets/virtual-dom.html-a29bc520.js" as="script"><link rel="prefetch" href="/assets/event.html-60223e95.js" as="script"><link rel="prefetch" href="/assets/index.html-5a639663.js" as="script"><link rel="prefetch" href="/assets/keep-alive.html-92e56f1d.js" as="script"><link rel="prefetch" href="/assets/slot.html-7145aa73.js" as="script"><link rel="prefetch" href="/assets/tansition.html-ba9660dc.js" as="script"><link rel="prefetch" href="/assets/v-model.html-0afdfd3f.js" as="script"><link rel="prefetch" href="/assets/build.html-32b6320f.js" as="script"><link rel="prefetch" href="/assets/directory.html-4f78f828.js" as="script"><link rel="prefetch" href="/assets/entrance.html-554ccfd8.js" as="script"><link rel="prefetch" href="/assets/flow.html-0418aa77.js" as="script"><link rel="prefetch" href="/assets/index.html-2eeed8a4.js" as="script"><link rel="prefetch" href="/assets/component-update.html-0f6c7278.js" as="script"><link rel="prefetch" href="/assets/computed-watcher.html-8e8377e0.js" as="script"><link rel="prefetch" href="/assets/getters.html-5d5f942c.js" as="script"><link rel="prefetch" href="/assets/index.html-8c3a1d06.js" as="script"><link rel="prefetch" href="/assets/next-tick.html-d78db5b3.js" as="script"><link rel="prefetch" href="/assets/props.html-5626af6b.js" as="script"><link rel="prefetch" href="/assets/questions.html-63490d9f.js" as="script"><link rel="prefetch" href="/assets/reactive-object.html-c8db4810.js" as="script"><link rel="prefetch" href="/assets/setters.html-1e0fb74c.js" as="script"><link rel="prefetch" href="/assets/summary.html-385ec33f.js" as="script"><link rel="prefetch" href="/assets/index.html-c72d9c20.js" as="script"><link rel="prefetch" href="/assets/install.html-2ce86199.js" as="script"><link rel="prefetch" href="/assets/matcher.html-eb2f6ab6.js" as="script"><link rel="prefetch" href="/assets/router.html-0a8c00ca.js" as="script"><link rel="prefetch" href="/assets/transition-to.html-9b555286.js" as="script"><link rel="prefetch" href="/assets/api.html-c6649d53.js" as="script"><link rel="prefetch" href="/assets/index.html-8dac2ec5.js" as="script"><link rel="prefetch" href="/assets/init.html-6eaa92cf.js" as="script"><link rel="prefetch" href="/assets/plugin.html-e15260e2.js" as="script"><link rel="prefetch" href="/assets/ast.html-84a4ea03.js" as="script"><link rel="prefetch" href="/assets/binder.html-924376db.js" as="script"><link rel="prefetch" href="/assets/checker.html-dd610814.js" as="script"><link rel="prefetch" href="/assets/emitter.html-2cdb8afa.js" as="script"><link rel="prefetch" href="/assets/overview.html-2abe7efb.js" as="script"><link rel="prefetch" href="/assets/parser.html-f3e43a99.js" as="script"><link rel="prefetch" href="/assets/program.html-b43cf227.js" as="script"><link rel="prefetch" href="/assets/scanner.html-77ac399b.js" as="script"><link rel="prefetch" href="/assets/common.html-8f558a02.js" as="script"><link rel="prefetch" href="/assets/interpreting.html-f4010327.js" as="script"><link rel="prefetch" href="/assets/class.html-067e7f4f.js" as="script"><link rel="prefetch" href="/assets/commandline-behavior.html-52b6a992.js" as="script"><link rel="prefetch" href="/assets/comments.html-9ce440c0.js" as="script"><link rel="prefetch" href="/assets/common-bug-not-bugs.html-89809438.js" as="script"><link rel="prefetch" href="/assets/common-feature-request.html-78b251b8.js" as="script"><link rel="prefetch" href="/assets/decorators.html-cd743ae0.js" as="script"><link rel="prefetch" href="/assets/enums.html-3571aa1b.js" as="script"><link rel="prefetch" href="/assets/function.html-3f67d1b2.js" as="script"><link rel="prefetch" href="/assets/generics.html-175c06cc.js" as="script"><link rel="prefetch" href="/assets/glossary-and-terms.html-8e65a586.js" as="script"><link rel="prefetch" href="/assets/jsx-and-react.html-0ab4d559.js" as="script"><link rel="prefetch" href="/assets/modules.html-88cc5b9c.js" as="script"><link rel="prefetch" href="/assets/thing-that-dont-work.html-430c46be.js" as="script"><link rel="prefetch" href="/assets/tsconfig-behavior.html-0e02b83e.js" as="script"><link rel="prefetch" href="/assets/type-guards.html-0b611128.js" as="script"><link rel="prefetch" href="/assets/type-system-behavior.html-cbcd8951.js" as="script"><link rel="prefetch" href="/assets/nonReactJSX.html-90132612.js" as="script"><link rel="prefetch" href="/assets/reactJSX.html-ed360d81.js" as="script"><link rel="prefetch" href="/assets/support.html-9179a417.js" as="script"><link rel="prefetch" href="/assets/typescript-3.7.html-fa0266a1.js" as="script"><link rel="prefetch" href="/assets/typescript-3.8.html-8e561abd.js" as="script"><link rel="prefetch" href="/assets/typescript-3.9.html-9d2cca1c.js" as="script"><link rel="prefetch" href="/assets/compilationContext.html-0e5aa55c.js" as="script"><link rel="prefetch" href="/assets/declarationspaces.html-aa3e03ff.js" as="script"><link rel="prefetch" href="/assets/dynamicImportExpressions.html-1f8d5e21.js" as="script"><link rel="prefetch" href="/assets/modules.html-9a082641.js" as="script"><link rel="prefetch" href="/assets/namespaces.html-c976b166.js" as="script"><link rel="prefetch" href="/assets/avoidExportDefault.html-f615ac35.js" as="script"><link rel="prefetch" href="/assets/barrel.html-e8e3bc86.js" as="script"><link rel="prefetch" href="/assets/bind.html-41eca47a.js" as="script"><link rel="prefetch" href="/assets/buildToggles.html-0170f7de.js" as="script"><link rel="prefetch" href="/assets/classAreUseful.html-7334e360.js" as="script"><link rel="prefetch" href="/assets/covarianceAndContravariance.html-f4492f4b.js" as="script"><link rel="prefetch" href="/assets/createArrays.html-1879df14.js" as="script"><link rel="prefetch" href="/assets/curry.html-b9d33ab7.js" as="script"><link rel="prefetch" href="/assets/functionParameters.html-baf0958e.js" as="script"><link rel="prefetch" href="/assets/infer.html-298c002c.js" as="script"><link rel="prefetch" href="/assets/lazyObjectLiteralInitialization.html-f80d9bba.js" as="script"><link rel="prefetch" href="/assets/limitPropertySetters.html-77af92eb.js" as="script"><link rel="prefetch" href="/assets/metadata.html-acdf7570.js" as="script"><link rel="prefetch" href="/assets/nominalTyping.html-e3b2ee2e.js" as="script"><link rel="prefetch" href="/assets/outFileCaution.html-674274cf.js" as="script"><link rel="prefetch" href="/assets/singletonPatern.html-5fcdd5b6.js" as="script"><link rel="prefetch" href="/assets/statefulFunctions.html-ed1cd36f.js" as="script"><link rel="prefetch" href="/assets/staticConstructors.html-1647806e.js" as="script"><link rel="prefetch" href="/assets/stringBasedEmuns.html-13b90dd6.js" as="script"><link rel="prefetch" href="/assets/truthy.html-051fdcd2.js" as="script"><link rel="prefetch" href="/assets/typeInstantiation.html-fb88ad76.js" as="script"><link rel="prefetch" href="/assets/typesafeEventEmitter.html-97a56334.js" as="script"><link rel="prefetch" href="/assets/ambient.html-0a0ea25d.js" as="script"><link rel="prefetch" href="/assets/callable.html-bb96f78f.js" as="script"><link rel="prefetch" href="/assets/discrominatedUnion.html-12c304fe.js" as="script"><link rel="prefetch" href="/assets/enums.html-9cfc6774.js" as="script"><link rel="prefetch" href="/assets/exceptionsHanding.html-2c0c8e05.js" as="script"><link rel="prefetch" href="/assets/freshness.html-d5a066ac.js" as="script"><link rel="prefetch" href="/assets/functions.html-488baba2.js" as="script"><link rel="prefetch" href="/assets/generices.html-977e80d5.js" as="script"><link rel="prefetch" href="/assets/indexSignatures.html-14e17d21.js" as="script"><link rel="prefetch" href="/assets/interfaces.html-4b2beb8c.js" as="script"><link rel="prefetch" href="/assets/lib.html-122306ae.js" as="script"><link rel="prefetch" href="/assets/literals.html-65a05970.js" as="script"><link rel="prefetch" href="/assets/migrating.html-695f6707.js" as="script"><link rel="prefetch" href="/assets/mixins.html-6b19d599.js" as="script"><link rel="prefetch" href="/assets/movingTypes.html-6bd3519d.js" as="script"><link rel="prefetch" href="/assets/neverType.html-9431cb0a.js" as="script"><link rel="prefetch" href="/assets/overview.html-cd358063.js" as="script"><link rel="prefetch" href="/assets/readonly.html-83c1540b.js" as="script"><link rel="prefetch" href="/assets/thisType.html-9d5fe169.js" as="script"><link rel="prefetch" href="/assets/typeAssertion.html-31d125eb.js" as="script"><link rel="prefetch" href="/assets/typeCompatibility.html-42bfa172.js" as="script"><link rel="prefetch" href="/assets/typeGuard.html-f8e7801d.js" as="script"><link rel="prefetch" href="/assets/typeInference.html-37709765.js" as="script"><link rel="prefetch" href="/assets/types.html-c0417ae3.js" as="script"><link rel="prefetch" href="/assets/CIE 1931 XYZ色彩空间详解.html-c7346760.js" as="script"><link rel="prefetch" href="/assets/CIE 色度出版物（中英文）2018.html-553acb35.js" as="script"><link rel="prefetch" href="/assets/CIE.1931.COLOUR-MATCHING.FUNCTIONS.2.DEGREE.OBSERVE.html-d471527d.js" as="script"><link rel="prefetch" href="/assets/CIE170-1(CIE2006a)颜色匹配函数计算模型.html-4c04d161.js" as="script"><link rel="prefetch" href="/assets/根据功率频谱准确绘制 LED 颜色 - 文章资源.html-1b974917.js" as="script"><link rel="prefetch" href="/assets/工具：函数图像工具.html-33b87efe.js" as="script"><link rel="prefetch" href="/assets/案例大全.html-bbb64ad6.js" as="script"><link rel="prefetch" href="/assets/图标：vuepress-temp-hope.html-89f1cc73.js" as="script"><link rel="prefetch" href="/assets/课程介绍.html-0288bed6.js" as="script"><link rel="prefetch" href="/assets/html-css.html-2d3172cc.js" as="script"><link rel="prefetch" href="/assets/javascript.html-b7398716.js" as="script"><link rel="prefetch" href="/assets/password.html-a278bc2a.js" as="script"><link rel="prefetch" href="/assets/Base64.html-f6d7cf49.js" as="script"><link rel="prefetch" href="/assets/Color.html-2d1ab050.js" as="script"><link rel="prefetch" href="/assets/UUID.html-1c49e5bf.js" as="script"><link rel="prefetch" href="/assets/audioAnalyser.html-5bf14c28.js" as="script"><link rel="prefetch" href="/assets/deep.clone.html-80b45cfe.js" as="script"><link rel="prefetch" href="/assets/download.html-ceda753e.js" as="script"><link rel="prefetch" href="/assets/format.html-0d18f38c.js" as="script"><link rel="prefetch" href="/assets/iframe.html-f4254577.js" as="script"><link rel="prefetch" href="/assets/loadjs.html-40d0fbd9.js" as="script"><link rel="prefetch" href="/assets/parseToJson.html-8f343665.js" as="script"><link rel="prefetch" href="/assets/getComputedStyle.html-1a5d6b1d.js" as="script"><link rel="prefetch" href="/assets/localeCompare.html-6771d5ad.js" as="script"><link rel="prefetch" href="/assets/图像：2° coordinates from 2°  XYZ CMFs.html-8a1914e9.js" as="script"><link rel="prefetch" href="/assets/图像：2°.CIE.1931.RGB系统光谱三刺激值曲线.html-9615d4cd.js" as="script"><link rel="prefetch" href="/assets/图像：2°.CIE.1931.XYZ系统光谱三刺激值曲线.html-9e79d3fd.js" as="script"><link rel="prefetch" href="/assets/数据：2° 视场大小的视锥光能基础响应.html-a92334ea.js" as="script"><link rel="prefetch" href="/assets/数据：2° 视场大小的视锥化学能基础响应.html-c83ff530.js" as="script"><link rel="prefetch" href="/assets/数据：2°.CIE.1931.XYZ系统光谱三刺激值.html-1df00ff9.js" as="script"><link rel="prefetch" href="/assets/L1.什么是操作系统.html-bf5b184e.js" as="script"><link rel="prefetch" href="/assets/404.html-9f7a3bbd.js" as="script"><link rel="prefetch" href="/assets/index.html-bf939b93.js" as="script"><link rel="prefetch" href="/assets/index.html-a13c164c.js" as="script"><link rel="prefetch" href="/assets/index.html-22400f70.js" as="script"><link rel="prefetch" href="/assets/index.html-ac63dc9f.js" as="script"><link rel="prefetch" href="/assets/index.html-dccd8f0f.js" as="script"><link rel="prefetch" href="/assets/index.html-64348cf8.js" as="script"><link rel="prefetch" href="/assets/index.html-3d193b87.js" as="script"><link rel="prefetch" href="/assets/index.html-2358fd32.js" as="script"><link rel="prefetch" href="/assets/index.html-d13beacc.js" as="script"><link rel="prefetch" href="/assets/index.html-393e8ef9.js" as="script"><link rel="prefetch" href="/assets/index.html-98301bc9.js" as="script"><link rel="prefetch" href="/assets/index.html-4cc9ead9.js" as="script"><link rel="prefetch" href="/assets/index.html-452226b3.js" as="script"><link rel="prefetch" href="/assets/index.html-47108c45.js" as="script"><link rel="prefetch" href="/assets/index.html-af63752d.js" as="script"><link rel="prefetch" href="/assets/index.html-2e4e2240.js" as="script"><link rel="prefetch" href="/assets/index.html-1922d8b1.js" as="script"><link rel="prefetch" href="/assets/index.html-f9b2460f.js" as="script"><link rel="prefetch" href="/assets/index.html-555754ab.js" as="script"><link rel="prefetch" href="/assets/index.html-d20ae458.js" as="script"><link rel="prefetch" href="/assets/index.html-af84651a.js" as="script"><link rel="prefetch" href="/assets/index.html-c057231f.js" as="script"><link rel="prefetch" href="/assets/index.html-99197cf7.js" as="script"><link rel="prefetch" href="/assets/index.html-16bdcc27.js" as="script"><link rel="prefetch" href="/assets/index.html-3bc8fe50.js" as="script"><link rel="prefetch" href="/assets/index.html-58ba55dd.js" as="script"><link rel="prefetch" href="/assets/index.html-0d5c82c0.js" as="script"><link rel="prefetch" href="/assets/index.html-4c707bd0.js" as="script"><link rel="prefetch" href="/assets/index.html-a596449e.js" as="script"><link rel="prefetch" href="/assets/index.html-55b00cdf.js" as="script"><link rel="prefetch" href="/assets/index.html-e04dbee2.js" as="script"><link rel="prefetch" href="/assets/index.html-8a8ff562.js" as="script"><link rel="prefetch" href="/assets/index.html-94be720f.js" as="script"><link rel="prefetch" href="/assets/index.html-e6476df7.js" as="script"><link rel="prefetch" href="/assets/index.html-cf88d270.js" as="script"><link rel="prefetch" href="/assets/index.html-08f05241.js" as="script"><link rel="prefetch" href="/assets/index.html-0367ecde.js" as="script"><link rel="prefetch" href="/assets/index.html-dee0fb6b.js" as="script"><link rel="prefetch" href="/assets/index.html-2bed6ee1.js" as="script"><link rel="prefetch" href="/assets/index.html-9247120b.js" as="script"><link rel="prefetch" href="/assets/index.html-a2833308.js" as="script"><link rel="prefetch" href="/assets/index.html-1f15b3b9.js" as="script"><link rel="prefetch" href="/assets/index.html-5b450b12.js" as="script"><link rel="prefetch" href="/assets/index.html-06b65b0d.js" as="script"><link rel="prefetch" href="/assets/index.html-35e4a13b.js" as="script"><link rel="prefetch" href="/assets/index.html-77cf79bb.js" as="script"><link rel="prefetch" href="/assets/index.html-2c4821ee.js" as="script"><link rel="prefetch" href="/assets/index.html-50d3f296.js" as="script"><link rel="prefetch" href="/assets/index.html-6d31ddf6.js" as="script"><link rel="prefetch" href="/assets/index.html-b12a454b.js" as="script"><link rel="prefetch" href="/assets/index.html-3b7819b3.js" as="script"><link rel="prefetch" href="/assets/index.html-3b1cad37.js" as="script"><link rel="prefetch" href="/assets/index.html-151e449e.js" as="script"><link rel="prefetch" href="/assets/index.html-a2ba50e9.js" as="script"><link rel="prefetch" href="/assets/index.html-3ed3b661.js" as="script"><link rel="prefetch" href="/assets/index.html-479c466b.js" as="script"><link rel="prefetch" href="/assets/index.html-20d9dbc2.js" as="script"><link rel="prefetch" href="/assets/index.html-487db8f4.js" as="script"><link rel="prefetch" href="/assets/index.html-2527308d.js" as="script"><link rel="prefetch" href="/assets/index.html-e74a45c9.js" as="script"><link rel="prefetch" href="/assets/index.html-666b31ce.js" as="script"><link rel="prefetch" href="/assets/index.html-3475b855.js" as="script"><link rel="prefetch" href="/assets/index.html-2a95b0e6.js" as="script"><link rel="prefetch" href="/assets/index.html-571d22fa.js" as="script"><link rel="prefetch" href="/assets/index.html-41ff7667.js" as="script"><link rel="prefetch" href="/assets/index.html-e834ad94.js" as="script"><link rel="prefetch" href="/assets/index.html-404e8806.js" as="script"><link rel="prefetch" href="/assets/index.html-1b3cdee2.js" as="script"><link rel="prefetch" href="/assets/index.html-cfc22104.js" as="script"><link rel="prefetch" href="/assets/index.html-cd93bbd6.js" as="script"><link rel="prefetch" href="/assets/index.html-40a6dae1.js" as="script"><link rel="prefetch" href="/assets/index.html-135ee1f0.js" as="script"><link rel="prefetch" href="/assets/index.html-11311f89.js" as="script"><link rel="prefetch" href="/assets/index.html-1b45c64e.js" as="script"><link rel="prefetch" href="/assets/index.html-690a004c.js" as="script"><link rel="prefetch" href="/assets/index.html-6fcb6951.js" as="script"><link rel="prefetch" href="/assets/giscus-f311b0ba.js" as="script"><link rel="prefetch" href="/assets/auto-ba5ecab5.js" as="script"><link rel="prefetch" href="/assets/index-b03bef79.js" as="script"><link rel="prefetch" href="/assets/flowchart-8b576787.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-7426a035.js" as="script"><link rel="prefetch" href="/assets/highlight.esm-75b11b9d.js" as="script"><link rel="prefetch" href="/assets/markdown.esm-0191f9da.js" as="script"><link rel="prefetch" href="/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/assets/notes.esm-a106bb2c.js" as="script"><link rel="prefetch" href="/assets/reveal.esm-ab04f0b1.js" as="script"><link rel="prefetch" href="/assets/search.esm-7e6792e2.js" as="script"><link rel="prefetch" href="/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/assets/VuePlayground-d2c31c24.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-36cd6c3c.js" as="script"><link rel="prefetch" href="/assets/SearchResult-a75a8ec5.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button type="button" class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a href="/" class="brand"><img class="logo" src="/assets/avatar/cat.webp" alt="魔法Bug"><!----><span class="site-name hide-in-pad">魔法Bug</span></a><!--]--><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><!--[--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="主页"><span class="font-icon icon iconfont icon-home" style=""></span>主页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/views/Posts/" class="nav-link" aria-label="博文"><span class="font-icon icon iconfont icon-hot" style=""></span>博文<!----></a></div><div class="nav-item hide-in-mobile"><a href="/views/DevLog/" class="nav-link" aria-label="开发日志"><span class="font-icon icon iconfont icon-IO" style=""></span>开发日志<!----></a></div><div class="nav-item hide-in-mobile"><a href="/views/Share/" class="nav-link" aria-label="数字宝库"><span class="font-icon icon iconfont icon-launch" style=""></span>数字宝库<!----></a></div><div class="nav-item hide-in-mobile"><a href="/views/Books/" class="nav-link active" aria-label="藏书阁"><span class="font-icon icon iconfont icon-repo" style=""></span>藏书阁<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item"><a class="repo-link" href="https://gitee.com/mpbug/mpbug" target="_blank" rel="noopener noreferrer" aria-label="Gitee"><svg xmlns="http://www.w3.org/2000/svg" class="icon gitee-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="gitee icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm242.97-533.34H482.39a23.7 23.7 0 0 0-23.7 23.7l-.03 59.28c0 13.08 10.59 23.7 23.7 23.7h165.96a23.7 23.7 0 0 1 23.7 23.7v11.85a71.1 71.1 0 0 1-71.1 71.1H375.71a23.7 23.7 0 0 1-23.7-23.7V423.11a71.1 71.1 0 0 1 71.1-71.1h331.8a23.7 23.7 0 0 0 23.7-23.7l.06-59.25a23.73 23.73 0 0 0-23.7-23.73H423.11a177.78 177.78 0 0 0-177.78 177.75v331.83c0 13.08 10.62 23.7 23.7 23.7h349.62a159.99 159.99 0 0 0 159.99-159.99V482.33a23.7 23.7 0 0 0-23.7-23.7z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="search-pro-button" role="search" aria-label="搜索"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="placeholder">搜索</div><div class="key-hints"><kbd class="key">Ctrl</kbd><kbd class="key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable active" type="button"><span class="font-icon icon iconfont icon-folder" style=""></span><a href="/views/Books/Front-end/" class="nav-link active title" aria-label="前端秘密"><!---->前端秘密<!----></a><span class="arrow down"></span></button><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-repo" style=""></span><a href="/views/Books/Front-end/JustReact/" class="nav-link title" aria-label="《React 技术揭秘》"><!---->《React 技术揭秘》<!----></a><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active" type="button"><span class="font-icon icon iconfont icon-repo" style=""></span><a href="/views/Books/Front-end/JustVue2/" class="nav-link active title" aria-label="《Vue2 技术揭秘》"><!---->《Vue2 技术揭秘》<!----></a><span class="arrow down"></span></button><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">准备工作</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">数据驱动</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">组件化</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">深入响应式原理</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">编译</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active" type="button"><!----><span class="title">扩展</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/views/Books/Front-end/JustVue2/extend/" class="nav-link sidebar-link sidebar-page" aria-label="Introduction"><!---->Introduction<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/views/Books/Front-end/JustVue2/extend/event.html" class="nav-link sidebar-link sidebar-page" aria-label="event"><!---->event<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/views/Books/Front-end/JustVue2/extend/v-model.html" class="nav-link sidebar-link sidebar-page" aria-label="v-model"><!---->v-model<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/views/Books/Front-end/JustVue2/extend/slot.html" class="nav-link sidebar-link sidebar-page" aria-label="slot"><!---->slot<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/views/Books/Front-end/JustVue2/extend/keep-alive.html" class="nav-link sidebar-link sidebar-page" aria-label="keep-alive"><!---->keep-alive<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/views/Books/Front-end/JustVue2/extend/tansition.html" class="nav-link sidebar-link sidebar-page" aria-label="transition"><!---->transition<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/views/Books/Front-end/JustVue2/extend/tansition-group.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="transition-group"><!---->transition-group<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/views/Books/Front-end/JustVue2/extend/tansition-group.html#render-函数" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="render 函数"><!---->render 函数<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/views/Books/Front-end/JustVue2/extend/tansition-group.html#move-过渡实现" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="move 过渡实现"><!---->move 过渡实现<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/views/Books/Front-end/JustVue2/extend/tansition-group.html#总结" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="总结"><!---->总结<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">Vue Router</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">Vuex</span><span class="arrow end"></span></button><!----></section></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-repo" style=""></span><a href="/views/Books/Front-end/TypescriptMaster/" class="nav-link title" aria-label="《TypeScript Deep Dive》"><!---->《TypeScript Deep Dive》<!----></a><span class="arrow end"></span></button><!----></section></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->transition-group</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://mpbug.gitee.io/player/" target="_blank" rel="noopener noreferrer">魔法时空宝库</a></span><span property="author" content="魔法时空宝库"></span></span><!----><!----><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 9 分钟</span><meta property="timeRequired" content="PT9M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/views/Books/Front-end/JustVue2/extend/tansition-group.html#render-函数" class="router-link-active router-link-exact-active toc-link level2">render 函数</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/Books/Front-end/JustVue2/extend/tansition-group.html#move-过渡实现" class="router-link-active router-link-exact-active toc-link level2">move 过渡实现</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/Books/Front-end/JustVue2/extend/tansition-group.html#总结" class="router-link-active router-link-exact-active toc-link level2">总结</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="transition-group" tabindex="-1"><a class="header-anchor" href="#transition-group" aria-hidden="true">#</a> transition-group</h1><p>前一节我们介绍了 <code>&lt;transiiton&gt;</code> 组件的实现原理，它只能针对单一元素实现过渡效果。我们做前端开发经常会遇到列表的需求，我们对列表元素进行添加和删除，有时候也希望有过渡效果，Vue.js 提供了 <code>&lt;transition-group&gt;</code> 组件，很好地帮助我们实现了列表的过渡效果。那么接下来我们就来分析一下它的实现原理。</p><p>为了更直观，我们也是通过一个示例来说明：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#app&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;&lt;div id=&quot;list-complete-demo&quot; class=&quot;demo&quot;&gt;&#39;</span> <span class="token operator">+</span>
  <span class="token string">&#39;&lt;button v-on:click=&quot;add&quot;&gt;Add&lt;/button&gt;&#39;</span> <span class="token operator">+</span>
  <span class="token string">&#39;&lt;button v-on:click=&quot;remove&quot;&gt;Remove&lt;/button&gt;&#39;</span> <span class="token operator">+</span>
  <span class="token string">&#39;&lt;transition-group name=&quot;list-complete&quot; tag=&quot;p&quot;&gt;&#39;</span> <span class="token operator">+</span>
  <span class="token string">&#39;&lt;span v-for=&quot;item in items&quot; v-bind:key=&quot;item&quot; class=&quot;list-complete-item&quot;&gt;&#39;</span> <span class="token operator">+</span>
  <span class="token string">&#39;{{ item }}&#39;</span> <span class="token operator">+</span>
  <span class="token string">&#39;&lt;/span&gt;&#39;</span> <span class="token operator">+</span>
  <span class="token string">&#39;&lt;/transition-group&gt;&#39;</span> <span class="token operator">+</span>
  <span class="token string">&#39;&lt;/div&gt;&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">items</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">nextNum</span><span class="token operator">:</span> <span class="token number">10</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">randomIndex</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">randomIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nextNum<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">remove</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">randomIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code> <span class="token selector">.list-complete-item</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
  <span class="token property">margin-right</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.list-complete-move</span> <span class="token punctuation">{</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> all 1s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.list-complete-enter, .list-complete-leave-to</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>30px<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.list-complete-enter-active</span> <span class="token punctuation">{</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> all 1s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.list-complete-leave-active</span> <span class="token punctuation">{</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> all 1s<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这个示例初始会展现 1-9 十个数字，当我们点击 <code>Add</code> 按钮时，会生成 <code>nextNum</code> 并随机在当前数列表中插入；当我们点击 <code>Remove</code> 按钮时，会随机删除掉一个数。我们会发现在数添加删除的过程中在列表中会有过渡动画，这就是 <code>&lt;transition-group&gt;</code> 组件配合我们定义的 CSS 产生的效果。</p><p>我们首先还是来分析 <code>&lt;transtion-group&gt;</code> 组件的实现，它的定义在 <code>src/platforms/web/runtime/components/transitions.js</code> 中：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">tag</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
  <span class="token literal-property property">moveClass</span><span class="token operator">:</span> String
<span class="token punctuation">}</span><span class="token punctuation">,</span> transitionProps<span class="token punctuation">)</span>

<span class="token keyword">delete</span> props<span class="token punctuation">.</span>mode

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  props<span class="token punctuation">,</span>

  <span class="token function">beforeMount</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> update <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_update
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">_update</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> hydrating</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// force removing pass</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">__patch__</span><span class="token punctuation">(</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_vnode<span class="token punctuation">,</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>kept<span class="token punctuation">,</span>
        <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// hydrating</span>
        <span class="token boolean">true</span> <span class="token comment">// removeOnly (!important, avoids unnecessary moves)</span>
      <span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>_vnode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>kept
      <span class="token function">update</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> hydrating<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">h</span><span class="token operator">:</span> Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token literal-property property">tag</span><span class="token operator">:</span> string <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tag <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$vnode<span class="token punctuation">.</span>data<span class="token punctuation">.</span>tag <span class="token operator">||</span> <span class="token string">&#39;span&#39;</span>
    <span class="token keyword">const</span> <span class="token literal-property property">map</span><span class="token operator">:</span> Object <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token literal-property property">prevChildren</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>VNode<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prevChildren <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>children
    <span class="token keyword">const</span> <span class="token literal-property property">rawChildren</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>VNode<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$slots<span class="token punctuation">.</span>default <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">const</span> <span class="token literal-property property">children</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>VNode<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">const</span> <span class="token literal-property property">transitionData</span><span class="token operator">:</span> Object <span class="token operator">=</span> <span class="token function">extractTransitionData</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> rawChildren<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token literal-property property">c</span><span class="token operator">:</span> VNode <span class="token operator">=</span> rawChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span>tag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span>key <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token function">String</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;__vlist&#39;</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          children<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
          map<span class="token punctuation">[</span>c<span class="token punctuation">.</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> c
          <span class="token punctuation">;</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>data <span class="token operator">||</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>transition <span class="token operator">=</span> transitionData
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> <span class="token literal-property property">opts</span><span class="token operator">:</span> <span class="token operator">?</span>VNodeComponentOptions <span class="token operator">=</span> c<span class="token punctuation">.</span>componentOptions
          <span class="token keyword">const</span> <span class="token literal-property property">name</span><span class="token operator">:</span> string <span class="token operator">=</span> opts <span class="token operator">?</span> <span class="token punctuation">(</span>opts<span class="token punctuation">.</span>Ctor<span class="token punctuation">.</span>options<span class="token punctuation">.</span>name <span class="token operator">||</span> opts<span class="token punctuation">.</span>tag <span class="token operator">||</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token operator">:</span> c<span class="token punctuation">.</span>tag
          <span class="token function">warn</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;transition-group&gt; children must be keyed: &lt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>prevChildren<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token literal-property property">kept</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>VNode<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token keyword">const</span> <span class="token literal-property property">removed</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>VNode<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> prevChildren<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token literal-property property">c</span><span class="token operator">:</span> VNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        c<span class="token punctuation">.</span>data<span class="token punctuation">.</span>transition <span class="token operator">=</span> transitionData
        c<span class="token punctuation">.</span>data<span class="token punctuation">.</span>pos <span class="token operator">=</span> c<span class="token punctuation">.</span>elm<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>c<span class="token punctuation">.</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          kept<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          removed<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>kept <span class="token operator">=</span> <span class="token function">h</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> kept<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>removed <span class="token operator">=</span> removed
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> children<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">updated</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token literal-property property">children</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>VNode<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prevChildren
    <span class="token keyword">const</span> <span class="token literal-property property">moveClass</span><span class="token operator">:</span> string <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>moveClass <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">||</span> <span class="token string">&#39;v&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;-move&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>children<span class="token punctuation">.</span>length <span class="token operator">||</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hasMove</span><span class="token punctuation">(</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>elm<span class="token punctuation">,</span> moveClass<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// we divide the work into three loops to avoid mixing DOM reads and writes</span>
    <span class="token comment">// in each iteration - which helps prevent layout thrashing.</span>
    children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>callPendingCbs<span class="token punctuation">)</span>
    children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>recordPosition<span class="token punctuation">)</span>
    children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>applyTranslation<span class="token punctuation">)</span>

    <span class="token comment">// force reflow to put everything in position</span>
    <span class="token comment">// assign to this to avoid being removed in tree-shaking</span>
    <span class="token comment">// $flow-disable-line</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_reflow <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>offsetHeight

    children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">c</span><span class="token operator">:</span> VNode</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span>data<span class="token punctuation">.</span>moved<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> <span class="token literal-property property">el</span><span class="token operator">:</span> any <span class="token operator">=</span> c<span class="token punctuation">.</span>elm
        <span class="token keyword">var</span> <span class="token literal-property property">s</span><span class="token operator">:</span> any <span class="token operator">=</span> el<span class="token punctuation">.</span>style
        <span class="token function">addTransitionClass</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> moveClass<span class="token punctuation">)</span>
        s<span class="token punctuation">.</span>transform <span class="token operator">=</span> s<span class="token punctuation">.</span>WebkitTransform <span class="token operator">=</span> s<span class="token punctuation">.</span>transitionDuration <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
        el<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>transitionEndEvent<span class="token punctuation">,</span> el<span class="token punctuation">.</span><span class="token function-variable function">_moveCb</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">cb</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>e <span class="token operator">||</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">transform$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>propertyName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            el<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span>transitionEndEvent<span class="token punctuation">,</span> cb<span class="token punctuation">)</span>
            el<span class="token punctuation">.</span>_moveCb <span class="token operator">=</span> <span class="token keyword">null</span>
            <span class="token function">removeTransitionClass</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> moveClass<span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">hasMove</span> <span class="token punctuation">(</span>el<span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">moveClass</span><span class="token operator">:</span> string<span class="token punctuation">)</span><span class="token operator">:</span> boolean <span class="token punctuation">{</span>
      <span class="token comment">/* istanbul ignore if */</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hasTransition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
      <span class="token comment">/* istanbul ignore if */</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_hasMove<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_hasMove
      <span class="token punctuation">}</span>
      <span class="token comment">// Detect whether an element with the move class applied has</span>
      <span class="token comment">// CSS transitions. Since the element may be inside an entering</span>
      <span class="token comment">// transition at this very moment, we make a clone of it and remove</span>
      <span class="token comment">// all other transition classes applied to ensure only the move class</span>
      <span class="token comment">// is applied.</span>
      <span class="token keyword">const</span> <span class="token literal-property property">clone</span><span class="token operator">:</span> HTMLElement <span class="token operator">=</span> el<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>_transitionClasses<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        el<span class="token punctuation">.</span>_transitionClasses<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">cls</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token function">removeClass</span><span class="token punctuation">(</span>clone<span class="token punctuation">,</span> cls<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token function">addClass</span><span class="token punctuation">(</span>clone<span class="token punctuation">,</span> moveClass<span class="token punctuation">)</span>
      clone<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;none&#39;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>clone<span class="token punctuation">)</span>
      <span class="token keyword">const</span> <span class="token literal-property property">info</span><span class="token operator">:</span> Object <span class="token operator">=</span> <span class="token function">getTransitionInfo</span><span class="token punctuation">(</span>clone<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>clone<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_hasMove <span class="token operator">=</span> info<span class="token punctuation">.</span>hasTransform<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="render-函数" tabindex="-1"><a class="header-anchor" href="#render-函数" aria-hidden="true">#</a> render 函数</h2><p><code>&lt;transition-group&gt;</code> 组件也是由 <code>render</code> 函数渲染生成 <code>vnode</code>，接下来我们先分析 <code>render</code> 的实现。</p><ul><li>定义一些变量</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token literal-property property">tag</span><span class="token operator">:</span> string <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tag <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$vnode<span class="token punctuation">.</span>data<span class="token punctuation">.</span>tag <span class="token operator">||</span> <span class="token string">&#39;span&#39;</span>
<span class="token keyword">const</span> <span class="token literal-property property">map</span><span class="token operator">:</span> Object <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token literal-property property">prevChildren</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>VNode<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prevChildren <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>children
<span class="token keyword">const</span> <span class="token literal-property property">rawChildren</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>VNode<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$slots<span class="token punctuation">.</span>default <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> <span class="token literal-property property">children</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>VNode<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> <span class="token literal-property property">transitionData</span><span class="token operator">:</span> Object <span class="token operator">=</span> <span class="token function">extractTransitionData</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>不同于 <code>&lt;transition&gt;</code> 组件，<code>&lt;transition-group&gt;</code> 组件非抽象组件，它会渲染成一个真实元素，默认 <code>tag</code> 是 <code>span</code>。 <code>prevChildren</code> 用来存储上一次的子节点；<code>children</code> 用来存储当前的子节点；<code>rawChildren</code> 表示 <code>&lt;transtition-group&gt;</code> 包裹的原始子节点；<code>transtionData</code> 是从 <code>&lt;transtition-group&gt;</code> 组件上提取出来的一些渲染数据，这点和 <code>&lt;transition&gt;</code> 组件的实现是一样的。</p><ul><li>遍历 <code>rawChidren</code>，初始化 <code>children</code></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> rawChildren<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token literal-property property">c</span><span class="token operator">:</span> VNode <span class="token operator">=</span> rawChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span>tag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span>key <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token function">String</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;__vlist&#39;</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      children<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
      map<span class="token punctuation">[</span>c<span class="token punctuation">.</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> c
      <span class="token punctuation">;</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>data <span class="token operator">||</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>transition <span class="token operator">=</span> transitionData
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token literal-property property">opts</span><span class="token operator">:</span> <span class="token operator">?</span>VNodeComponentOptions <span class="token operator">=</span> c<span class="token punctuation">.</span>componentOptions
      <span class="token keyword">const</span> <span class="token literal-property property">name</span><span class="token operator">:</span> string <span class="token operator">=</span> opts <span class="token operator">?</span> <span class="token punctuation">(</span>opts<span class="token punctuation">.</span>Ctor<span class="token punctuation">.</span>options<span class="token punctuation">.</span>name <span class="token operator">||</span> opts<span class="token punctuation">.</span>tag <span class="token operator">||</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token operator">:</span> c<span class="token punctuation">.</span>tag
      <span class="token function">warn</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;transition-group&gt; children must be keyed: &lt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其实就是对 <code>rawChildren</code> 遍历，拿到每个 <code>vnode</code>，然后会判断每个 <code>vnode</code> 是否设置了 <code>key</code>，这个是 <code>&lt;transition-group&gt;</code> 对列表元素的要求。然后把 <code>vnode</code> 添加到 <code>children</code> 中，然后把刚刚提取的过渡数据 <code>transitionData</code> 添加的 <code>vnode.data.transition</code> 中，这点很关键，只有这样才能实现列表中单个元素的过渡动画。</p><ul><li>处理 prevChildren</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>prevChildren<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token literal-property property">kept</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>VNode<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">const</span> <span class="token literal-property property">removed</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>VNode<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> prevChildren<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token literal-property property">c</span><span class="token operator">:</span> VNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    c<span class="token punctuation">.</span>data<span class="token punctuation">.</span>transition <span class="token operator">=</span> transitionData
    c<span class="token punctuation">.</span>data<span class="token punctuation">.</span>pos <span class="token operator">=</span> c<span class="token punctuation">.</span>elm<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>c<span class="token punctuation">.</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      kept<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      removed<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>kept <span class="token operator">=</span> <span class="token function">h</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> kept<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>removed <span class="token operator">=</span> removed
<span class="token punctuation">}</span>

<span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> children<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当有 <code>prevChildren</code> 的时候，我们会对它做遍历，获取到每个 <code>vnode</code>，然后把 <code>transitionData</code> 赋值到 <code>vnode.data.transition</code>，这个是为了当它在 <code>enter</code> 和 <code>leave</code> 的钩子函数中有过渡动画，我们在上节介绍 <code>transition</code> 的实现中说过。接着又调用了原生 DOM 的 <code>getBoundingClientRect</code> 方法获取到原生 DOM 的位置信息，记录到 <code>vnode.data.pos</code> 中，然后判断一下 <code>vnode.key</code> 是否在 <code>map</code> 中，如果在则放入 <code>kept</code> 中，否则表示该节点已被删除，放入 <code>removed</code> 中，然后通过执行 <code>h(tag, null, kept)</code> 渲染后放入 <code>this.kept</code> 中，把 <code>removed</code> 用 <code>this.removed</code> 保存。最后整个 <code>render</code> 函数通过 <code>h(tag, null, children)</code> 生成渲染 <code>vnode</code>。</p><p>如果 <code>transition-group</code> 只实现了这个 <code>render</code> 函数，那么每次插入和删除的元素的缓动动画是可以实现的，在我们的例子中，当新增一个元素，它的插入的过渡动画是有的，但是剩余元素平移的过渡效果是出不来的，所以接下来我们来分析 <code>&lt;transition-group&gt;</code> 组件是如何实现剩余元素平移的过渡效果的。</p><h2 id="move-过渡实现" tabindex="-1"><a class="header-anchor" href="#move-过渡实现" aria-hidden="true">#</a> move 过渡实现</h2><p>其实我们在实现元素的插入和删除，无非就是操作数据，控制它们的添加和删除。比如我们新增数据的时候，会添加一条数据，除了重新执行 <code>render</code> 函数渲染新的节点外，还要触发 <code>updated</code> 钩子函数，接着我们就来分析 <code>updated</code> 钩子函数的实现。</p><ul><li>判断子元素是否定义 <code>move</code> 相关样式</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token literal-property property">children</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>VNode<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prevChildren
<span class="token keyword">const</span> <span class="token literal-property property">moveClass</span><span class="token operator">:</span> string <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>moveClass <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">||</span> <span class="token string">&#39;v&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;-move&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>children<span class="token punctuation">.</span>length <span class="token operator">||</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hasMove</span><span class="token punctuation">(</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>elm<span class="token punctuation">,</span> moveClass<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span>
<span class="token punctuation">}</span>

<span class="token function">hasMove</span> <span class="token punctuation">(</span>el<span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">moveClass</span><span class="token operator">:</span> string<span class="token punctuation">)</span><span class="token operator">:</span> boolean <span class="token punctuation">{</span>
  <span class="token comment">/* istanbul ignore if */</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hasTransition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* istanbul ignore if */</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_hasMove<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_hasMove
  <span class="token punctuation">}</span>
  <span class="token comment">// Detect whether an element with the move class applied has</span>
  <span class="token comment">// CSS transitions. Since the element may be inside an entering</span>
  <span class="token comment">// transition at this very moment, we make a clone of it and remove</span>
  <span class="token comment">// all other transition classes applied to ensure only the move class</span>
  <span class="token comment">// is applied.</span>
  <span class="token keyword">const</span> <span class="token literal-property property">clone</span><span class="token operator">:</span> HTMLElement <span class="token operator">=</span> el<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>_transitionClasses<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span>_transitionClasses<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">cls</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token function">removeClass</span><span class="token punctuation">(</span>clone<span class="token punctuation">,</span> cls<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">addClass</span><span class="token punctuation">(</span>clone<span class="token punctuation">,</span> moveClass<span class="token punctuation">)</span>
  clone<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;none&#39;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>clone<span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token literal-property property">info</span><span class="token operator">:</span> Object <span class="token operator">=</span> <span class="token function">getTransitionInfo</span><span class="token punctuation">(</span>clone<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>clone<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_hasMove <span class="token operator">=</span> info<span class="token punctuation">.</span>hasTransform<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>核心就是 <code>hasMove</code> 的判断，首先克隆一个 DOM 节点，然后为了避免影响，移除它的所有其他的过渡 <code>Class</code>；接着添加了 <code>moveClass</code> 样式，设置 <code>display</code> 为 <code>none</code>，添加到组件根节点上；接下来通过 <code>getTransitionInfo</code> 获取它的一些缓动相关的信息，这个函数在上一节我们也介绍过，然后从组件根节点上删除这个克隆节点，并通过判断 <code>info.hasTransform</code> 来判断 <code>hasMove</code>，在我们的例子中，该值为 <code>true</code>。</p><ul><li>子节点预处理</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>callPendingCbs<span class="token punctuation">)</span>
children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>recordPosition<span class="token punctuation">)</span>
children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>applyTranslation<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对 <code>children</code> 做了 3 轮循环，分别做了如下一些处理：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">callPendingCbs</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">c</span><span class="token operator">:</span> VNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span>elm<span class="token punctuation">.</span>_moveCb<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    c<span class="token punctuation">.</span>elm<span class="token punctuation">.</span><span class="token function">_moveCb</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span>elm<span class="token punctuation">.</span>_enterCb<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    c<span class="token punctuation">.</span>elm<span class="token punctuation">.</span><span class="token function">_enterCb</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">recordPosition</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">c</span><span class="token operator">:</span> VNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  c<span class="token punctuation">.</span>data<span class="token punctuation">.</span>newPos <span class="token operator">=</span> c<span class="token punctuation">.</span>elm<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">applyTranslation</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">c</span><span class="token operator">:</span> VNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> oldPos <span class="token operator">=</span> c<span class="token punctuation">.</span>data<span class="token punctuation">.</span>pos
  <span class="token keyword">const</span> newPos <span class="token operator">=</span> c<span class="token punctuation">.</span>data<span class="token punctuation">.</span>newPos
  <span class="token keyword">const</span> dx <span class="token operator">=</span> oldPos<span class="token punctuation">.</span>left <span class="token operator">-</span> newPos<span class="token punctuation">.</span>left
  <span class="token keyword">const</span> dy <span class="token operator">=</span> oldPos<span class="token punctuation">.</span>top <span class="token operator">-</span> newPos<span class="token punctuation">.</span>top
  <span class="token keyword">if</span> <span class="token punctuation">(</span>dx <span class="token operator">||</span> dy<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    c<span class="token punctuation">.</span>data<span class="token punctuation">.</span>moved <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token keyword">const</span> s <span class="token operator">=</span> c<span class="token punctuation">.</span>elm<span class="token punctuation">.</span>style
    s<span class="token punctuation">.</span>transform <span class="token operator">=</span> s<span class="token punctuation">.</span>WebkitTransform <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>dx<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>dy<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px)</span><span class="token template-punctuation string">`</span></span>
    s<span class="token punctuation">.</span>transitionDuration <span class="token operator">=</span> <span class="token string">&#39;0s&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>callPendingCbs</code> 方法是在前一个过渡动画没执行完又再次执行到该方法的时候，会提前执行 <code>_moveCb</code> 和 <code>_enterCb</code>。</p><p><code>recordPosition</code> 的作用是记录节点的新位置。</p><p><code>applyTranslation</code> 的作用是先计算节点新位置和旧位置的差值，如果差值不为 0，则说明这些节点是需要移动的，所以记录 <code>vnode.data.moved</code> 为 true，并且通过设置 <code>transform</code> 把需要移动的节点的位置又偏移到之前的旧位置，目的是为了做 <code>move</code> 缓动做准备。</p><ul><li>遍历子元素实现 move 过渡</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>_reflow <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>offsetHeight

children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">c</span><span class="token operator">:</span> VNode</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span>data<span class="token punctuation">.</span>moved<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> <span class="token literal-property property">el</span><span class="token operator">:</span> any <span class="token operator">=</span> c<span class="token punctuation">.</span>elm
    <span class="token keyword">var</span> <span class="token literal-property property">s</span><span class="token operator">:</span> any <span class="token operator">=</span> el<span class="token punctuation">.</span>style
    <span class="token function">addTransitionClass</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> moveClass<span class="token punctuation">)</span>
    s<span class="token punctuation">.</span>transform <span class="token operator">=</span> s<span class="token punctuation">.</span>WebkitTransform <span class="token operator">=</span> s<span class="token punctuation">.</span>transitionDuration <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
    el<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>transitionEndEvent<span class="token punctuation">,</span> el<span class="token punctuation">.</span><span class="token function-variable function">_moveCb</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">cb</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>e <span class="token operator">||</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">transform$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>propertyName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        el<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span>transitionEndEvent<span class="token punctuation">,</span> cb<span class="token punctuation">)</span>
        el<span class="token punctuation">.</span>_moveCb <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token function">removeTransitionClass</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> moveClass<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>首先通过 <code>document.body.offsetHeight</code> 强制触发浏览器重绘，接着再次对 <code>children</code> 遍历，先给子节点添加 <code>moveClass</code>，在我们的例子中，<code>moveClass</code> 定义了 <code>transition: all 1s;</code> 缓动；接着把子节点的 <code>style.transform</code> 设置为空，由于我们前面把这些节点偏移到之前的旧位置，所以它就会从旧位置按照 <code>1s</code> 的缓动时间过渡偏移到它的当前目标位置，这样就实现了 move 的过渡动画。并且接下来会监听 <code>transitionEndEvent</code> 过渡结束的事件，做一些清理的操作。</p><p>另外，由于虚拟 DOM 的子元素更新算法是不稳定的，它不能保证被移除元素的相对位置，所以我们强制 <code>&lt;transition-group&gt;</code> 组件更新子节点通过 2 个步骤：第一步我们移除需要移除的 <code>vnode</code>，同时触发它们的 <code>leaving</code> 过渡；第二步我们需要把插入和移动的节点达到它们的最终态，同时还要保证移除的节点保留在应该的位置，而这个是通过 <code>beforeMount</code> 钩子函数来实现的：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">beforeMount</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> update <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_update
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">_update</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">vnode<span class="token punctuation">,</span> hydrating</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// force removing pass</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">__patch__</span><span class="token punctuation">(</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>_vnode<span class="token punctuation">,</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>kept<span class="token punctuation">,</span>
      <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// hydrating</span>
      <span class="token boolean">true</span> <span class="token comment">// removeOnly (!important, avoids unnecessary moves)</span>
    <span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_vnode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>kept
    <span class="token function">update</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> hydrating<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过把 <code>__patch__</code> 方法的第四个参数 <code>removeOnly</code> 设置为 true，这样在 <code>updateChildren</code> 阶段，是不会移动 <code>vnode</code> 节点的。</p><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2><p>那么到此，<code>&lt;transtion-group&gt;</code> 组件的实现原理就介绍完毕了，它和 <code>&lt;transition&gt;</code> 组件相比，实现了列表的过渡，以及它会渲染成真实的元素。当我们去修改列表的数据的时候，如果是添加或者删除数据，则会触发相应元素本身的过渡动画，这点和 <code>&lt;transition&gt;</code> 组件实现效果一样，除此之外 <code>&lt;transtion-group&gt;</code> 还实现了 move 的过渡效果，让我们的列表过渡动画更加丰富。</p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://gitee.com/mpbug/mpbug/edit/main/views/Books/Front-end/JustVue2/extend/tansition-group.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><!----><!----></div></footer><nav class="page-nav"><a href="/views/Books/Front-end/JustVue2/extend/tansition.html" class="nav-link prev" aria-label="transition"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->transition</div></a><!----></nav><div class="giscus-wrapper input-top" id="comment" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">收纳万物的时空葫芦、变幻万物的魔法葫芦</div><div class="copyright">Copyright © 2023 魔法时空宝库</div></footer></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-36439b21.js" defer></script>
  </body>
</html>
